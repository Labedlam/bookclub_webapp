/*! primepersonalproject 2015-12-06 */
myApp.controller("BaseController",["$scope","$http","DataService","DataServiceReg","$mdToast","$document",function(a,b,c,d,e,f){function g(){var b=a.toastPosition;b.bottom&&h.top&&(b.top=!1),b.top&&h.bottom&&(b.bottom=!1),b.right&&h.left&&(b.left=!1),b.left&&h.right&&(b.right=!1),h=angular.extend({},b)}a.dataService=c,a.users=[],a.member={},a.prefBook={},a.bookclubUsers=[],a.loggedInUser={},a.loggedInBookClub={},void 0===a.dataService.userData()?(a.dataService.retrieveData().then(function(){a.users=a.dataService.userData()}),console.log("Base Async: ",a.dataService.userData())):a.users=a.dataService.userData(),console.log("hello BaseController"),a.dataService1=d,a.bookclub=[],a.infobookclub={},void 0===a.dataService1.bookclubData()?(a.dataService1.retrieveData().then(function(){a.bookclub=a.dataService1.bookclubData()}),console.log("Base Async: for book promise",a.dataService1.bookclubData())):a.bookclub=a.dataService1.bookclubData(),console.log("I'm underneath the book promise");var h={bottom:!1,top:!1,left:!0,right:!1};a.toastPosition=angular.extend({},h),a.getToastPosition=function(){return g(),Object.keys(a.toastPosition).filter(function(b){return a.toastPosition[b]}).join(" ")},a.showActionToast=function(b,c){var d=e.simple().content("Are You Sure You Want To Vote For this Book?").action("ok").highlightAction(!0).parent(f[0].querySelector("#toastBounds")).hideDelay(1e5).position(a.getToastPosition());e.show(d).then(function(d){"ok"==d&&(console.log("this is what your sending back to the toast function ",b,c),a.selectedIndex=c,a.userHasVoted(),console.log("this is the book that was voted by user who logged in"),a.castPrefBookVote(b))})},a.closeToast=function(){e.hide()},a.prefBookVote=!1,a.userHasVoted=function(){b({method:"PUT",url:"/voting/loggedin",data:{votePrefBook:"true"}}).then(function(b){console.log("does the book club objectcome down here?",b),a.prefBookVote=b.data})},a.castPrefBookVote=function(c){console.log("this is pref book",c);var d={title:c[0].title,author:c[0].author,summary:c[0].summary,_id:c[0]._id};console.log("here is whats beening sent up to cast vote",d),b({method:"PUT",url:"/voting/updatebook",data:d}).then(function(b){console.log("here is the response from castvote ",b),a.prefBookVote=b.data})}}]),myApp.controller("AnotherController",["$scope","DataService",function(a,b){a.dataService=b,a.bookclub=[],void 0===a.dataService.bookclubData()?(a.dataService.retrieveData().then(function(){a.bookclub=a.dataService.bookclubData()}),console.log("Base Async: ",a.dataService.bookclubData())):a.bookclub=a.dataService.bookclubData()}]),myApp.controller("toolbarController",["$scope",function(a){a.isOpen=!1,a.demo={isOpen:!0,count:0,selectedDirection:"right"}}]);